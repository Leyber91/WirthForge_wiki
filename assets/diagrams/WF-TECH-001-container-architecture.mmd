graph TB
    subgraph "🚀 WIRTHFORGE Zero-Config Boot System (127.0.0.1)"
        subgraph "🎭 Core Orchestration Layer"
            O[🎯 Orchestrator Engine<br/>Sub-2s Startup • asyncio main loop]
            HM[🩺 Health Monitor<br/>10s Intervals • System Status]
            IS[🔌 Integration Seams<br/>TECH-002/003/004 Interfaces]
        end
        
        subgraph "⚡ Energy Processing Engine"
            ES[💾 Energy State Manager<br/>In-memory + SQLite • 60Hz Updates]
            DC[🔬 DECIPHER Compiler<br/>Token→Energy Mapping • Real-time]
            EM[📊 Energy Metrics<br/>Diversity Index • Ensemble Analysis]
        end
        
        subgraph "🌐 Transport & Communication Layer"
            API[🌍 FastAPI Server<br/>REST + WebSocket • localhost:8000]
            WS[🔌 WebSocket Handler<br/>Real-time Energy Streams • 60Hz]
            HTTP[📡 HTTP Endpoints<br/>Health • Status • Config]
        end
        
        subgraph "🔗 External Integration Layer"
            OL[🤖 Ollama Client<br/>HTTP/Streaming • Model Interface]
            FS[📁 File System Manager<br/>Config • Models • Logs • State]
            HW[🖥️ Hardware Detector<br/>Tier Classification • Performance]
        end
    end
    
    subgraph "🌍 External Processes (Managed)"
        M[🤖 Ollama Server<br/>Local AI Models • TECH-002]
        UI[🌐 Web Browser UI<br/>React/TypeScript • Energy Dashboard]
        OS[⚙️ Operating System<br/>Hardware Resources • Process Management]
    end
    
    %% Core orchestration flows
    O --> HM
    O --> IS
    O --> ES
    O --> DC
    HM --> O
    
    %% Energy processing flows
    DC --> EM
    ES --> EM
    EM --> WS
    
    %% Transport layer flows
    O --> API
    API --> WS
    API --> HTTP
    WS --> UI
    HTTP --> UI
    
    %% Integration flows
    O --> OL
    O --> FS
    O --> HW
    OL --> M
    HW --> OS
    
    %% Health monitoring flows
    HM --> API
    HM --> OL
    HM --> ES
    HM --> DC
    
    %% Integration seam flows
    IS --> OL
    IS --> WS
    IS --> ES
    
    %% Boot sequence dependencies
    HW -->|Hardware Info| O
    O -->|Service Health| HM
    HM -->|Status Report| API
    API -->|System Ready| UI
    
    %% Styling with WIRTHFORGE colors and performance indicators
    style O fill:#10B981,stroke:#047857,color:#FFF
    style HM fill:#F59E0B,stroke:#D97706,color:#FFF
    style IS fill:#8B5CF6,stroke:#7C3AED,color:#FFF
    style ES fill:#3B82F6,stroke:#1E40AF,color:#FFF
    style DC fill:#EC4899,stroke:#BE185D,color:#FFF
    style EM fill:#06B6D4,stroke:#0891B2,color:#FFF
    style API fill:#10B981,stroke:#047857,color:#FFF
    style WS fill:#F59E0B,stroke:#D97706,color:#FFF
    style HTTP fill:#8B5CF6,stroke:#7C3AED,color:#FFF
    style OL fill:#FBBF24,stroke:#F59E0B,color:#000
    style FS fill:#94A3B8,stroke:#64748B,color:#FFF
    style HW fill:#374151,stroke:#1F2937,color:#FFF
    style M fill:#FEF3C7,stroke:#F59E0B,color:#000
    style UI fill:#DBEAFE,stroke:#3B82F6,color:#000
    style OS fill:#E5E7EB,stroke:#6B7280,color:#000
    
    %% Performance class definitions
    classDef performance fill:#065F46,stroke:#10B981,color:#FFF,stroke-width:3px
    classDef realtime fill:#7C2D12,stroke:#EA580C,color:#FFF,stroke-width:2px
    classDef integration fill:#581C87,stroke:#8B5CF6,color:#FFF,stroke-width:2px
    
    class O,HM performance
    class DC,EM,WS realtime
    class IS,OL integration
