<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradients for energy visualization -->
    <radialGradient id="energyGradient" cx="50%" cy="50%" r="50%">
      <stop offset="0%" style="stop-color:#FFD700;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#FF6B35;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#1E3A8A;stop-opacity:0.6" />
    </radialGradient>
    
    <linearGradient id="websocketGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge> 
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <!-- Animation for energy pulses -->
    <animate id="energyPulse" attributeName="r" values="8;12;8" dur="2s" repeatCount="indefinite"/>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="800" fill="#0F172A"/>
  
  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" fill="#F8FAFC" font-family="Arial, sans-serif" font-size="28" font-weight="bold">
    WIRTHFORGE WebSocket Protocol - Real-Time Energy Truth (60Hz)
  </text>
  
  <!-- Browser UI Section -->
  <g id="browser-section">
    <rect x="50" y="100" width="280" height="200" rx="15" fill="#1E293B" stroke="#3B82F6" stroke-width="2"/>
    <text x="190" y="130" text-anchor="middle" fill="#3B82F6" font-family="Arial, sans-serif" font-size="16" font-weight="bold">üåê Browser UI</text>
    
    <!-- Energy Visualization -->
    <circle cx="120" cy="180" r="25" fill="url(#energyGradient)" filter="url(#glow)">
      <animate attributeName="r" values="20;30;20" dur="1.5s" repeatCount="indefinite"/>
    </circle>
    <text x="120" y="185" text-anchor="middle" fill="#000" font-family="Arial, sans-serif" font-size="12" font-weight="bold">E(t)</text>
    
    <!-- Real-time metrics -->
    <rect x="180" y="160" width="120" height="60" rx="5" fill="#374151" stroke="#10B981" stroke-width="1"/>
    <text x="240" y="180" text-anchor="middle" fill="#10B981" font-family="Arial, sans-serif" font-size="10">60 FPS</text>
    <text x="240" y="195" text-anchor="middle" fill="#10B981" font-family="Arial, sans-serif" font-size="10">5ms latency</text>
    <text x="240" y="210" text-anchor="middle" fill="#10B981" font-family="Arial, sans-serif" font-size="10">1250.5 EU</text>
    
    <!-- Connection indicator -->
    <circle cx="300" cy="120" r="8" fill="#10B981">
      <animate attributeName="opacity" values="1;0.3;1" dur="1s" repeatCount="indefinite"/>
    </circle>
  </g>
  
  <!-- WebSocket Server Section -->
  <g id="websocket-section">
    <rect x="460" y="100" width="280" height="200" rx="15" fill="#1E293B" stroke="#10B981" stroke-width="2"/>
    <text x="600" y="130" text-anchor="middle" fill="#10B981" font-family="Arial, sans-serif" font-size="16" font-weight="bold">‚ö° WebSocket Server</text>
    <text x="600" y="150" text-anchor="middle" fill="#94A3B8" font-family="Arial, sans-serif" font-size="12">localhost:8145</text>
    
    <!-- 60Hz indicator -->
    <rect x="480" y="170" width="80" height="30" rx="15" fill="url(#websocketGradient)"/>
    <text x="520" y="190" text-anchor="middle" fill="#FFF" font-family="Arial, sans-serif" font-size="12" font-weight="bold">60Hz</text>
    
    <!-- Event types -->
    <g id="event-types">
      <circle cx="580" cy="185" r="6" fill="#FFD700"/>
      <text x="600" y="190" fill="#FFD700" font-family="Arial, sans-serif" font-size="10">energy_update</text>
      
      <circle cx="580" cy="205" r="6" fill="#FF6B35"/>
      <text x="600" y="210" fill="#FF6B35" font-family="Arial, sans-serif" font-size="10">token_stream</text>
      
      <circle cx="580" cy="225" r="6" fill="#8B5CF6"/>
      <text x="600" y="230" fill="#8B5CF6" font-family="Arial, sans-serif" font-size="10">heartbeat</text>
      
      <circle cx="680" cy="185" r="6" fill="#EC4899"/>
      <text x="700" y="190" fill="#EC4899" font-family="Arial, sans-serif" font-size="10">interference</text>
      
      <circle cx="680" cy="205" r="6" fill="#06B6D4"/>
      <text x="700" y="210" fill="#06B6D4" font-family="Arial, sans-serif" font-size="10">resonance</text>
      
      <circle cx="680" cy="225" r="6" fill="#F59E0B"/>
      <text x="700" y="230" fill="#F59E0B" font-family="Arial, sans-serif" font-size="10">reward</text>
    </g>
  </g>
  
  <!-- DECIPHER Engine Section -->
  <g id="decipher-section">
    <rect x="870" y="100" width="280" height="200" rx="15" fill="#1E293B" stroke="#8B5CF6" stroke-width="2"/>
    <text x="1010" y="130" text-anchor="middle" fill="#8B5CF6" font-family="Arial, sans-serif" font-size="16" font-weight="bold">üîÆ DECIPHER Engine</text>
    
    <!-- Energy formula -->
    <rect x="890" y="150" width="240" height="40" rx="5" fill="#374151" stroke="#8B5CF6" stroke-width="1"/>
    <text x="1010" y="175" text-anchor="middle" fill="#8B5CF6" font-family="Arial, sans-serif" font-size="12">E(t) = f(Œît, entropy, logprobs)</text>
    
    <!-- Processing indicators -->
    <g id="processing-dots">
      <circle cx="920" cy="220" r="4" fill="#FFD700">
        <animate attributeName="opacity" values="1;0.3;1" dur="0.8s" repeatCount="indefinite"/>
      </circle>
      <circle cx="940" cy="220" r="4" fill="#FF6B35">
        <animate attributeName="opacity" values="1;0.3;1" dur="0.8s" begin="0.2s" repeatCount="indefinite"/>
      </circle>
      <circle cx="960" cy="220" r="4" fill="#8B5CF6">
        <animate attributeName="opacity" values="1;0.3;1" dur="0.8s" begin="0.4s" repeatCount="indefinite"/>
      </circle>
      <circle cx="980" cy="220" r="4" fill="#10B981">
        <animate attributeName="opacity" values="1;0.3;1" dur="0.8s" begin="0.6s" repeatCount="indefinite"/>
      </circle>
    </g>
    
    <text x="1010" y="250" text-anchor="middle" fill="#94A3B8" font-family="Arial, sans-serif" font-size="10">Real-time Energy Computation</text>
  </g>
  
  <!-- AI Model Pool Section -->
  <g id="model-section">
    <rect x="460" y="380" width="280" height="150" rx="15" fill="#1E293B" stroke="#F59E0B" stroke-width="2"/>
    <text x="600" y="410" text-anchor="middle" fill="#F59E0B" font-family="Arial, sans-serif" font-size="16" font-weight="bold">ü§ñ AI Model Pool</text>
    
    <!-- Model instances -->
    <g id="models">
      <rect x="480" y="430" width="60" height="30" rx="5" fill="#374151" stroke="#10B981" stroke-width="1"/>
      <text x="510" y="450" text-anchor="middle" fill="#10B981" font-family="Arial, sans-serif" font-size="10">LLaMA2</text>
      
      <rect x="550" y="430" width="60" height="30" rx="5" fill="#374151" stroke="#3B82F6" stroke-width="1"/>
      <text x="580" y="450" text-anchor="middle" fill="#3B82F6" font-family="Arial, sans-serif" font-size="10">CodeLLaMA</text>
      
      <rect x="620" y="430" width="60" height="30" rx="5" fill="#374151" stroke="#EC4899" stroke-width="1"/>
      <text x="650" y="450" text-anchor="middle" fill="#EC4899" font-family="Arial, sans-serif" font-size="10">Mistral</text>
      
      <rect x="690" y="430" width="40" height="30" rx="5" fill="#374151" stroke="#64748B" stroke-width="1" stroke-dasharray="3,3"/>
      <text x="710" y="450" text-anchor="middle" fill="#64748B" font-family="Arial, sans-serif" font-size="9">+More</text>
    </g>
    
    <!-- Token generation visualization -->
    <g id="token-stream">
      <path d="M 500 480 Q 550 490 600 480 Q 650 470 700 480" stroke="#FFD700" stroke-width="2" fill="none">
        <animate attributeName="stroke-dasharray" values="0,100;10,90;20,80;30,70;40,60;50,50" dur="2s" repeatCount="indefinite"/>
      </path>
      <text x="600" y="505" text-anchor="middle" fill="#FFD700" font-family="Arial, sans-serif" font-size="10">Token Stream</text>
    </g>
  </g>
  
  <!-- Connection Lines with Data Flow -->
  <g id="connections">
    <!-- Browser to WebSocket -->
    <line x1="330" y1="200" x2="460" y2="200" stroke="#10B981" stroke-width="3">
      <animate attributeName="stroke-dasharray" values="0,20;10,10;20,0" dur="1s" repeatCount="indefinite"/>
    </line>
    <text x="395" y="190" text-anchor="middle" fill="#10B981" font-family="Arial, sans-serif" font-size="10">WebSocket</text>
    
    <!-- WebSocket to DECIPHER -->
    <line x1="740" y1="200" x2="870" y2="200" stroke="#8B5CF6" stroke-width="3">
      <animate attributeName="stroke-dasharray" values="0,20;10,10;20,0" dur="1.2s" repeatCount="indefinite"/>
    </line>
    <text x="805" y="190" text-anchor="middle" fill="#8B5CF6" font-family="Arial, sans-serif" font-size="10">Energy Events</text>
    
    <!-- WebSocket to Models -->
    <line x1="600" y1="300" x2="600" y2="380" stroke="#F59E0B" stroke-width="3">
      <animate attributeName="stroke-dasharray" values="0,20;10,10;20,0" dur="0.8s" repeatCount="indefinite"/>
    </line>
    <text x="620" y="340" fill="#F59E0B" font-family="Arial, sans-serif" font-size="10">Model Control</text>
    
    <!-- Models to DECIPHER -->
    <line x1="740" y1="455" x2="870" y2="250" stroke="#FFD700" stroke-width="2">
      <animate attributeName="stroke-dasharray" values="0,15;7,8;15,0" dur="0.6s" repeatCount="indefinite"/>
    </line>
    <text x="820" y="360" fill="#FFD700" font-family="Arial, sans-serif" font-size="10" transform="rotate(-25 820 360)">Tokens</text>
  </g>
  
  <!-- Performance Indicators -->
  <g id="performance">
    <rect x="50" y="600" width="1100" height="120" rx="10" fill="#1E293B" stroke="#374151" stroke-width="1"/>
    <text x="600" y="630" text-anchor="middle" fill="#F8FAFC" font-family="Arial, sans-serif" font-size="16" font-weight="bold">üìä Real-Time Performance Metrics</text>
    
    <!-- Metrics grid -->
    <g id="metrics-grid">
      <!-- Frame Rate -->
      <rect x="80" y="650" width="120" height="50" rx="5" fill="#374151" stroke="#10B981" stroke-width="1"/>
      <text x="140" y="670" text-anchor="middle" fill="#10B981" font-family="Arial, sans-serif" font-size="12" font-weight="bold">60.0 FPS</text>
      <text x="140" y="685" text-anchor="middle" fill="#94A3B8" font-family="Arial, sans-serif" font-size="10">Frame Rate</text>
      
      <!-- Latency -->
      <rect x="220" y="650" width="120" height="50" rx="5" fill="#374151" stroke="#3B82F6" stroke-width="1"/>
      <text x="280" y="670" text-anchor="middle" fill="#3B82F6" font-family="Arial, sans-serif" font-size="12" font-weight="bold">4.2ms</text>
      <text x="280" y="685" text-anchor="middle" fill="#94A3B8" font-family="Arial, sans-serif" font-size="10">Latency</text>
      
      <!-- Energy Rate -->
      <rect x="360" y="650" width="120" height="50" rx="5" fill="#374151" stroke="#FFD700" stroke-width="1"/>
      <text x="420" y="670" text-anchor="middle" fill="#FFD700" font-family="Arial, sans-serif" font-size="12" font-weight="bold">1250.5</text>
      <text x="420" y="685" text-anchor="middle" fill="#94A3B8" font-family="Arial, sans-serif" font-size="10">Energy Units</text>
      
      <!-- Token Rate -->
      <rect x="500" y="650" width="120" height="50" rx="5" fill="#374151" stroke="#FF6B35" stroke-width="1"/>
      <text x="560" y="670" text-anchor="middle" fill="#FF6B35" font-family="Arial, sans-serif" font-size="12" font-weight="bold">23.7 TPS</text>
      <text x="560" y="685" text-anchor="middle" fill="#94A3B8" font-family="Arial, sans-serif" font-size="10">Tokens/Sec</text>
      
      <!-- Memory Usage -->
      <rect x="640" y="650" width="120" height="50" rx="5" fill="#374151" stroke="#8B5CF6" stroke-width="1"/>
      <text x="700" y="670" text-anchor="middle" fill="#8B5CF6" font-family="Arial, sans-serif" font-size="12" font-weight="bold">2.1GB</text>
      <text x="700" y="685" text-anchor="middle" fill="#94A3B8" font-family="Arial, sans-serif" font-size="10">Memory</text>
      
      <!-- Connection Status -->
      <rect x="780" y="650" width="120" height="50" rx="5" fill="#374151" stroke="#10B981" stroke-width="1"/>
      <circle cx="820" cy="675" r="8" fill="#10B981">
        <animate attributeName="opacity" values="1;0.5;1" dur="2s" repeatCount="indefinite"/>
      </circle>
      <text x="850" y="680" fill="#10B981" font-family="Arial, sans-serif" font-size="12" font-weight="bold">LIVE</text>
      
      <!-- Hardware Tier -->
      <rect x="920" y="650" width="120" height="50" rx="5" fill="#374151" stroke="#EC4899" stroke-width="1"/>
      <text x="980" y="670" text-anchor="middle" fill="#EC4899" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Mid-Tier</text>
      <text x="980" y="685" text-anchor="middle" fill="#94A3B8" font-family="Arial, sans-serif" font-size="10">16GB RAM</text>
    </g>
  </g>
  
  <!-- Energy Truth Badge -->
  <g id="energy-truth-badge">
    <circle cx="1100" cy="80" r="30" fill="url(#energyGradient)" stroke="#FFD700" stroke-width="3" filter="url(#glow)">
      <animate attributeName="r" values="28;35;28" dur="3s" repeatCount="indefinite"/>
    </circle>
    <text x="1100" y="75" text-anchor="middle" fill="#000" font-family="Arial, sans-serif" font-size="10" font-weight="bold">ENERGY</text>
    <text x="1100" y="88" text-anchor="middle" fill="#000" font-family="Arial, sans-serif" font-size="10" font-weight="bold">TRUTH</text>
  </g>
</svg>
